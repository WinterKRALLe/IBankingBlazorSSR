@inject IJSRuntime JSRuntime;

<!DOCTYPE html>
<html lang="en" class="bg-skin-fill text-skin-base">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <base href="/"/>
    <link rel="stylesheet" href="css/app.css"/>
    <link rel="stylesheet" href="css/default.css"/>
    <link rel="icon" type="image/png" href="favicon.png"/>
    <HeadOutlet/>
</head>

<body class="w-full overflow-x-hidden max-w-screen-2xl h-screen mx-auto flex flex-col relative">
<Routes/>
<script src="_framework/blazor.web.js"></script>
<script src="js/theme.js"></script>
<script src="js/tabs.js"></script>
</body>

</html>

@code {
    private bool isJavaScriptInitialized = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && !isJavaScriptInitialized)
        {
            isJavaScriptInitialized = true;

            await JSRuntime.InvokeVoidAsync("detectAndApplyTheme");
        }
    }
}